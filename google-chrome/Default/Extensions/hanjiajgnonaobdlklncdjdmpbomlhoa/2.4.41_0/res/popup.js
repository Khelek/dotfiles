function ge(a){return document.getElementById(a)}function checkBoxClick(a){a.value=!a.value;a.className="checkbox_"+(a.value?"on":"off")+(a.is_over?"_over":"");localStorage[a.id]=a.value;a.id=="active"?setTimeout("checkForNew()",1E3):reCalcTotal()}function updateBoxClass(a,b){a.is_over=b;a.className=a.is_over&&a.value?"checkbox_on_over":b?"checkbox_off_over":a.value?"checkbox_on":"checkbox_off"}function addx(a,b){a.innerHTML+=b}
function additem(a,b,d,e,c){if(localStorage[b]==undefined)localStorage[b]=!!c;c=document.createElement("li");c.innerHTML='<div class="checkbox_container"><table cellpadding="0" cellspacing="0"><tr><td class="checkbox"><div id="'+b+'" class="checkbox_off"></div></td><td class="checkbox_label"><a href="#" id="bt'+b+'" title="'+(d!="/../"?d:"")+'"><span>'+lang(b)+"</span><span>"+(e>0?" (<b>"+e+"</b>)":"")+"</span></a></td></tr></table></div>";a.appendChild(c);ge("bt"+b).onclick=function(){goTo(this.getAttribute("title"))};
if(a=geByClass("checkbox_off",c)){a=a[0];a.value=localStorage[b]=="true"?true:false;if(e==-1)a.className="checkbox_null";else{a.className="checkbox_"+(a.value?"on":"off");a.addEventListener("click",function(f){checkBoxClick(f.target)},false);a.addEventListener("mouseover",function(f){updateBoxClass(f.target,true)},false);a.addEventListener("mouseout",function(f){updateBoxClass(f.target,false)},false)}}}
function goTo(a){if(a){checkForNewNotNow();chrome.tabs.create({url:(a.indexOf("http://")==0?"":getMainUrl())+a});window.close()}}function updateValue(a){if(a&&a.target){a=a.target;if(a.value<10)a.value=10;localStorage[a.id]=a.value;a.id=="checktime"&&bg.setUpdateTimer()}}function addinput(a,b,d,e,c){d=$c("input",{id:b,value:cfg(b,d),size:e});d.onkeyup=updateValue;a.appendChild($c("li",{kids:{"0":$c("#text",lang(b)+" "),1:d,2:$c("#text",c?" "+lang(c):"")}}))}
function init(){bg=chrome.extension.getBackgroundPage();geByClass=bg.geByClass;reCalcTotal=bg.reCalcTotal;getMainUrl=bg.getMainUrl;checkForNew=bg.checkForNew;checkForNewNotNow=bg.checkForNewNotNow;links=bg.links;setIcon=bg.setIcon;cfg=bg.cfg;lang=bg.lang;$c=bg.$c;warn.style.display="none";for(var a in links)additem(nav[0],links[a][0],links[a][1],links[a][2],links[a][3]);additem(nah[0],"active","/../",0,1);addinput(nah[0],"checktime","60",1,"sec");additem(nah[0],"music","",0,0);additem(nah[0],"notify",
"/../",0,0);additem(nah[0],"settings","settings.php?act=musicsig",-1);additem(nah[0],"about","http://musicsig.darkbyte.ru/info.php",-1);for(a=0;a<=14;a++)nah[1].innerHTML+='<a id="na'+a+'" href="#"><img width="19" src="/icon/'+a+'_48.png"></a> ';for(a=0;a<=14;a++)ge("na"+a).onclick=function(){setIcon(this.id.substr(2))}}function fin(){}function onload(){if(!document||!document.body)return setTimeout(onload,50);init()}onload();
